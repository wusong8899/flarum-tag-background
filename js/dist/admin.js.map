{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@wusong8899/flarum-daily-check-in/webpack/bootstrap","webpack://@wusong8899/flarum-daily-check-in/webpack/runtime/compat get default export","webpack://@wusong8899/flarum-daily-check-in/webpack/runtime/define property getters","webpack://@wusong8899/flarum-daily-check-in/webpack/runtime/hasOwnProperty shorthand","webpack://@wusong8899/flarum-daily-check-in/external root \"flarum.reg.get('core', 'extend')\"","webpack://@wusong8899/flarum-daily-check-in/external root \"flarum.reg.get('core', 'components/ExtensionPage')\"","webpack://@wusong8899/flarum-daily-check-in/external root \"flarum.reg.get('core', 'components/Button')\"","webpack://@wusong8899/flarum-daily-check-in/external root \"flarum.reg.get('core', 'common/components/Switch')\"","webpack://@wusong8899/flarum-daily-check-in/external root \"flarum.reg.get('core', 'components/LoadingIndicator')\"","webpack://@wusong8899/flarum-daily-check-in/external root \"flarum.reg.get('core', 'tags/utils/sortTags')\"","webpack://@wusong8899/flarum-daily-check-in/external root \"flarum.reg.get('core', 'tags/helpers/tagIcon')\"","webpack://@wusong8899/flarum-daily-check-in/./node_modules/.pnpm/@babel+runtime@7.28.2/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@wusong8899/flarum-daily-check-in/./node_modules/.pnpm/@babel+runtime@7.28.2/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@wusong8899/flarum-daily-check-in/./node_modules/.pnpm/@babel+runtime@7.28.2/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://@wusong8899/flarum-daily-check-in/./node_modules/.pnpm/@babel+runtime@7.28.2/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://@wusong8899/flarum-daily-check-in/external root \"flarum.reg.get('core', 'components/Modal')\"","webpack://@wusong8899/flarum-daily-check-in/external root \"flarum.reg.get('core', 'utils/Stream')\"","webpack://@wusong8899/flarum-daily-check-in/./src/admin/components/SetBackgroundModal.js","webpack://@wusong8899/flarum-daily-check-in/./src/admin/components/SettingsPage.js","webpack://@wusong8899/flarum-daily-check-in/./src/admin/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'extend');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'components/ExtensionPage');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'components/Button');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Switch');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'components/LoadingIndicator');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'tags/utils/sortTags');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'tags/helpers/tagIcon');","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'components/Modal');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'utils/Stream');","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport Stream from 'flarum/utils/Stream';\nexport default class DecorationStorePurchaseModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.loading = false;\n    this.tagData = this.attrs.tagData;\n    this.backgroundUrl = Stream(this.tagData.attribute(\"wusong8899BackgroundURL\"));\n  }\n  className() {\n    return 'Modal--small';\n  }\n  title() {\n    return app.translator.trans('wusong8899-tag-background.admin.set-background');\n  }\n  content() {\n    return m(\"div\", {\n      className: \"Modal-body\"\n    }, m(\"div\", {\n      className: \"Form\"\n    }, m(\"div\", {\n      className: \"Form-group\",\n      style: \"text-align: center;\"\n    }, m(\"div\", {\n      className: \"ModuleItemSettingsLabel\"\n    }, app.translator.trans('wusong8899-tag-background.admin.item-background-url')), m(\"input\", {\n      maxlength: \"200\",\n      className: \"FormControl\",\n      bidi: this.backgroundUrl\n    })), m(\"div\", {\n      className: \"Form-group\",\n      style: \"text-align: center;\"\n    }, Button.component({\n      style: 'min-width:66px;',\n      className: 'Button Button--primary',\n      disabled: this.loading,\n      onclick: () => {\n        this.saveData();\n      }\n    }, app.translator.trans('wusong8899-custom-index-page.lib.save')), \"\\xA0\", Button.component({\n      style: 'min-width:66px;background: rgba(0,0,0,0.1);',\n      className: 'Button',\n      disabled: this.loading,\n      onclick: () => {\n        this.hide();\n      }\n    }, app.translator.trans('wusong8899-custom-index-page.lib.cancel')))));\n  }\n  saveData() {\n    this.loading = true;\n    const backgroundUrl = this.backgroundUrl();\n    const tagID = this.tagData.id();\n    app.request({\n      url: \"\".concat(app.forum.attribute('apiUrl'), \"/tagBackgroundSetImage\"),\n      method: 'POST',\n      body: {\n        tagID,\n        backgroundUrl\n      }\n    }).then(result => {\n      this.hide();\n      app.store.pushPayload(result);\n      let tagStoreData = app.store.getById(\"tags\", tagID);\n      console.log(tagStoreData);\n      m.redraw();\n    }).catch(e => {\n      this.loading = false;\n    });\n  }\n}\n_defineProperty(DecorationStorePurchaseModal, \"isDismissibleViaBackdropClick\", false);\n_defineProperty(DecorationStorePurchaseModal, \"isDismissibleViaCloseButton\", true);\nflarum.reg.add('wusong8899-tag-background', 'admin/components/SetBackgroundModal', DecorationStorePurchaseModal);","import ExtensionPage from 'flarum/components/ExtensionPage';\nimport Button from 'flarum/components/Button';\nimport Switch from 'flarum/common/components/Switch';\nimport LoadingIndicator from \"flarum/components/LoadingIndicator\";\nimport sortTags from \"flarum/tags/utils/sortTags\";\nimport tagIcon from 'flarum/tags/helpers/tagIcon';\nimport SetBackgroundModal from './SetBackgroundModal';\nlet allTags;\nexport default class SettingsPage extends ExtensionPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.loading = true;\n    app.tagList.load(['parent']).then(() => {\n      allTags = app.store.all('tags');\n      this.loading = false;\n      m.redraw();\n    });\n  }\n  content() {\n    if (this.loading) {\n      return m(LoadingIndicator, null);\n    }\n    const tags = sortTags(app.store.all('tags').filter(tag => !tag.parent()));\n    return [m(\"div\", {\n      className: \"tagBackgroundSettingsGroups\",\n      style: \"text-align: left;padding: 20px;\"\n    }, tags.map(tagData => {\n      let wusong8899BackgroundURL = tagData.attribute(\"wusong8899BackgroundURL\");\n      let tagBackgroundImageStyle = \"background:url(\" + wusong8899BackgroundURL + \");background-size: cover;background-position: center;background-repeat: no-repeat;\";\n      let tagID = tagData.id();\n      return m(\"div\", {\n        className: \"tagBackgroundContainer\"\n      }, m(\"div\", {\n        className: \"tagBackgroundItemContainer\"\n      }, tagIcon(tagData), m(\"span\", {\n        className: \"tagBackgroundItemName TagListItem-name\"\n      }, tagData.name()), m(\"div\", {\n        style: \"padding-top: 10px;display: flex;justify-content: center;align-items: center;\"\n      }, wusong8899BackgroundURL && m(\"div\", {\n        style: tagBackgroundImageStyle,\n        className: \"tagBackgroundImage\",\n        onclick: e => app.modal.show(SetBackgroundModal, {\n          tagData\n        })\n      }), !wusong8899BackgroundURL && m(\"div\", {\n        className: \"tagBackgroundImage\"\n      }, Button.component({\n        style: \"min-width: 66px;font-size: 12px;font-weight: normal;\",\n        className: 'Button',\n        onclick: () => {\n          app.modal.show(SetBackgroundModal, {\n            tagData\n          });\n        }\n      }, app.translator.trans('wusong8899-tag-background.admin.set-background'))))));\n    }))];\n  }\n}\nflarum.reg.add('wusong8899-tag-background', 'admin/components/SettingsPage', SettingsPage);","import { extend, override } from 'flarum/extend';\nimport SettingsPage from './components/SettingsPage';\napp.initializers.add('wusong8899-tag-background', () => {\n  app.extensionData.for('wusong8899-tag-background').registerPage(SettingsPage);\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","reg","_typeof","Symbol","iterator","constructor","_defineProperty","e","r","t","i","toPrimitive","TypeError","String","toPropertyKey","value","configurable","writable","DecorationStorePurchaseModal","oninit","vnode","super","this","loading","tagData","attrs","backgroundUrl","attribute","className","title","app","translator","trans","content","m","style","maxlength","bidi","disabled","onclick","saveData","hide","tagID","id","request","url","concat","forum","method","body","then","result","store","pushPayload","tagStoreData","getById","console","log","redraw","catch","allTags","add","SettingsPage","tagList","load","all","tags","filter","tag","parent","map","wusong8899BackgroundURL","tagBackgroundImageStyle","name","modal","show","initializers","extensionData","for","registerPage"],"sourceRoot":""}