(function(c,u,g){"use strict";function d(n){if(!n)return;n.querySelectorAll("li.TagTile").forEach(y=>{const t=y,f=t.querySelector("a.TagTile-info"),r=t.querySelector(".TagTile-name");if(!f)return;let l=null;try{const e=new URL(f.href,window.location.origin).pathname.split("/").filter(Boolean),i=e.indexOf("t"),s=e.indexOf("tags");i!==-1&&e[i+1]?l=e[i+1]:s!==-1&&e[s+1]?l=e[s+1]:e.length>0&&(l=e[e.length-1])}catch{}if(!l)return;const a=c.store.all("tags").find(o=>(typeof o.slug=="function"?o.slug():o.attribute&&o.attribute("slug"))===l);if(!a)return;const p=a.attribute?a.attribute("wusong8899BackgroundURL"):null;p?(t.style.background=`url(${p})`,t.style.backgroundSize="cover",t.style.backgroundPosition="center",t.style.backgroundRepeat="no-repeat",r&&(r.style.display="none")):(t.style.background="",t.style.backgroundSize="",t.style.backgroundPosition="",t.style.backgroundRepeat="",r&&(r.style.display=""))})}c.initializers.add("wusong8899-tag-background",()=>{u.extend(g.prototype,"oncreate",function(n){d(n.dom)}),u.extend(g.prototype,"onupdate",function(n){d(n.dom)})})})(flarum.core.compat["forum/app"],flarum.core.compat.extend,flarum.core.compat["tags/components/TagsPage"]);
//# sourceMappingURL=forum.js.map

module.exports={};